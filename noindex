<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå...</title>
  <!-- ‡πÑ‡∏°‡πà‡∏°‡∏µ dns-prefetch / preconnect ‡∏Ñ‡∏á‡∏ó‡∏µ‡πà ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÇ‡∏î‡πÄ‡∏°‡∏ô‡πÇ‡∏ú‡∏•‡πà‡πÉ‡∏ô source -->
  <style>
    :root { --bg1:#0b0b0b; --bg2:#1a1a1a; --acc:#00e6ac; --soft:#ffffff22; --text:#eaeaea; --sub:#bdbdbd; }
    * { box-sizing: border-box; }
    html,body { height: 100%; }
    body { margin:0; color:var(--text); font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: radial-gradient(1200px 800px at 10% 10%, #121212, transparent), radial-gradient(1000px 700px at 90% 90%, #111, transparent), linear-gradient(135deg, var(--bg1), var(--bg2));
      display:grid; place-items:center; padding:24px; }
    .card { width:min(560px,92vw); background:#101010aa; backdrop-filter:blur(6px); border:1px solid #2a2a2a; border-radius:20px; padding:28px 24px; text-align:center; box-shadow:0 10px 30px #00000055, inset 0 1px 0 #ffffff0f; }
    .ring { width:110px; height:110px; margin:0 auto 16px; border-radius:50%; border:12px solid var(--soft); border-top-color:var(--acc); animation:spin .9s linear infinite; }
    @keyframes spin { to{ transform:rotate(360deg) } }
    h1{ font-size:22px; margin:6px 0 4px; letter-spacing:.3px }
    p{ margin:0; color:var(--sub); font-size:14px }
    .bar{ margin:18px auto 12px; width:100%; height:8px; border-radius:999px; background:#2a2a2a; overflow:hidden }
    .bar>i{ display:block; height:100%; width:30%; background:linear-gradient(90deg,#ffffff22,var(--acc)); filter:saturate(140%); border-radius:999px; animation:progress 1.8s ease-in-out infinite }
    @keyframes progress { 0%{ margin-left:-30% } 50%{ margin-left:50% } 100%{ margin-left:120% } }
    .list{ text-align:left; margin-top:10px; font-size:13px; color:#cfcfcf }
    .list b{ color:var(--acc); font-weight:600 }
    .actions{ display:flex; gap:10px; justify-content:center; margin-top:16px }
    .btn{ appearance:none; border:1px solid #2d2d2d; color:#fff; background:#161616; padding:10px 14px; border-radius:10px; cursor:pointer; transition:.2s ease; font-size:14px }
    .btn:hover{ transform:translateY(-1px); border-color:#3a3a3a }
    .muted{ color:#a8a8a8; font-size:12px; margin-top:8px }
  </style>
</head>
<body>
  <div class="card">
    <div class="ring" aria-hidden="true"></div>
    <h1>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‚Ä¶</h1>
    <p>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏î‡∏∂‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏à‡∏≤‡∏Å‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå (‡πÑ‡∏°‡πà‡πÇ‡∏ä‡∏ß‡πå‡πÉ‡∏ô source) ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡∏™‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå</p>
    <div class="bar"><i></i></div>
    <div class="list" id="status" aria-live="polite"></div>
    <div class="actions">
      <button class="btn" id="skip">‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏õ‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
      <button class="btn" id="retry" style="display:none;">‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
    </div>
    <div class="muted">‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ö‡∏ô iOS / Android / Desktop ‡πÅ‡∏•‡∏∞‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÉ‡∏ô‡πÅ‡∏≠‡∏õ</div>
  </div>

  <script>
    // ===================== ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÇ‡∏î‡πÄ‡∏°‡∏ô‡πÇ‡∏ú‡∏•‡πà‡πÉ‡∏ô source =====================
    // 1) ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÇ‡∏î‡πÄ‡∏°‡∏ô‡∏Ñ‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ô HTML ‡∏ô‡∏µ‡πâ
    // 2) ‡∏î‡∏∂‡∏á "manifest" (‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏î‡πÄ‡∏°‡∏ô) ‡∏à‡∏≤‡∏Å API ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏≤‡∏¢‡∏∏‡∏™‡∏±‡πâ‡∏ô (exp)
    // 3) (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥) ‡πÄ‡∏ã‡πá‡∏ô manifest ‡∏î‡πâ‡∏ß‡∏¢ ECDSA P-256 ‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏ù‡∏±‡πà‡∏á client (‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏Å‡πâ payload ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏≤‡∏á)
    // 4) ‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö Turnstile/hCaptcha ‡∏´‡∏£‡∏∑‡∏≠ rate-limit ‡∏ó‡∏µ‡πà API ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏±‡∏ô bot ‡∏î‡∏π‡∏î manifest

    // ====== ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ ======
    const MANIFEST_URL = '/.well-known/links.json'; // ‡πÄ‡∏™‡∏¥‡∏£‡πå‡∏ü‡∏à‡∏≤‡∏Å‡πÇ‡∏î‡πÄ‡∏°‡∏ô gateway ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
    const MANIFEST_TIMEOUT = 5000; // ms
    const PROBE_PATH = '/favicon.ico'; // ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏•‡πá‡∏Å‡∏ï‡∏≠‡∏ö‡πÄ‡∏£‡πá‡∏ß ‡πÉ‡∏ä‡πâ‡πÄ‡∏ä‡πá‡∏Ñ liveness

    // ‡πÄ‡∏õ‡∏¥‡∏î verify ‡∏•‡∏≤‡∏¢‡πÄ‡∏ã‡πá‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á
    const VERIFY_SIGNATURE = false;                       // <- ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏õ‡πá‡∏ô true ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á
    const PUBKEY_SPKI_B64 = 'REPLACE_WITH_BASE64_SPKI';   // <- ‡πÉ‡∏™‡πà Public Key (SPKI base64)

    // ====== UI ======
    const statusEl = document.getElementById('status');
    const btnSkip  = document.getElementById('skip');
    const btnRetry = document.getElementById('retry');

    function log(msg){
      const line = document.createElement('div');
      line.textContent = msg; statusEl.appendChild(line);
      statusEl.scrollTop = statusEl.scrollHeight;
    }

    // ====== Helper: fetch with timeout ======
    function fetchWithTimeout(input, init={}, ms=5000){
      const ctrl = new AbortController();
      const t = setTimeout(() => ctrl.abort(), ms);
      return fetch(input, { ...init, signal: ctrl.signal }).finally(()=>clearTimeout(t));
    }

    // ====== Helper: crypto ======
    function b64ToBuf(b64){ return Uint8Array.from(atob(b64.replace(/\s+/g,'')), c=>c.charCodeAt(0)).buffer; }
    async function importSpkiP256(spkiB64){
      const spki = b64ToBuf(spkiB64);
      return crypto.subtle.importKey('spki', spki, { name:'ECDSA', namedCurve:'P-256' }, false, ['verify']);
    }
    async function verifyManifestSig(pubKey, manifest){
      // ‡πÄ‡∏ã‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ: `${exp}|${urls.join(',')}`
      const data = new TextEncoder().encode(`${manifest.exp}|${manifest.urls.join(',')}`);
      const sig = b64ToBuf(manifest.sig);
      return crypto.subtle.verify({ name:'ECDSA', hash:'SHA-256' }, pubKey, sig, data);
    }

    // ====== ‡∏î‡∏∂‡∏á‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö manifest ======
    async function loadManifest(){
      log('‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ç‡∏≠‡∏î‡∏∂‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏à‡∏≤‡∏Å‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå');
      const res = await fetchWithTimeout(`${MANIFEST_URL}?t=${Date.now()}`, { cache:'no-store', credentials:'omit' }, MANIFEST_TIMEOUT);
      if (!res.ok) throw new Error(`‡πÇ‡∏´‡∏•‡∏î manifest ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß: HTTP ${res.status}`);
      const manifest = await res.json();
      // ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á: { exp: 1735689600, urls:["https://a.example"], sig:"base64" }
      if (!Array.isArray(manifest.urls) || !manifest.exp) throw new Error('‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö manifest ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á');
      const now = Math.floor(Date.now()/1000);
      if (manifest.exp < now) throw new Error('manifest ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏‡πÅ‡∏•‡πâ‡∏ß');
      if (VERIFY_SIGNATURE){
        const pub = await importSpkiP256(PUBKEY_SPKI_B64);
        const ok = await verifyManifestSig(pub, manifest);
        if (!ok) throw new Error('‡∏•‡∏≤‡∏¢‡πÄ‡∏ã‡πá‡∏ô manifest ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á');
      }
      log(`‚úÖ ‡∏£‡∏±‡∏ö‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: ${manifest.urls.length} ‡πÇ‡∏î‡πÄ‡∏°‡∏ô (‡πÑ‡∏°‡πà‡∏ù‡∏±‡∏á‡πÉ‡∏ô source)`);
      return manifest.urls;
    }

    // ====== ‡πÄ‡∏ä‡πá‡∏Ñ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏≠‡∏≠‡∏Å‡∏´‡∏ô‡πâ‡∏≤ ======
    function probe(url){
      const testUrl = url.replace(/\/$/, '') + PROBE_PATH + `?t=${Date.now()}`;
      return fetchWithTimeout(testUrl, { mode:'no-cors', cache:'no-store', redirect:'follow' }, 5000)
        .then(()=>true)
        .catch(()=>false);
    }

    async function trySequential(urls){
      for (let i=0; i<urls.length; i++){
        const url = urls[i];
        log(`üîé ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏•‡∏¥‡∏á‡∏Å‡πå ${i+1}/${urls.length}`);
        const ok = await probe(url);
        if (ok){
          log(`üöÄ ‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå: ${url} ‚Üí ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ô‡∏≥‡∏ó‡∏≤‡∏á`);
          // preconnect ‡πÅ‡∏ö‡∏ö‡πÑ‡∏î‡∏ô‡∏≤‡∏°‡∏¥‡∏Å‡∏´‡∏•‡∏±‡∏á‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£ probe ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
          const pc = document.createElement('link');
          pc.rel = 'preconnect'; pc.href = new URL(url).origin; pc.crossOrigin = 'anonymous';
          document.head.appendChild(pc);
          try { localStorage.setItem('last_good_origin', url); } catch(_){ }
          window.location.replace(url);
          return;
        }
        log(`‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô: ${url}`);
      }
      document.querySelector('h1').textContent = '‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à';
      document.querySelector('p').textContent  = '‡πÇ‡∏õ‡∏£‡∏î‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á';
      btnRetry.style.display = 'inline-block';
      btnSkip.style.display  = 'none';
    }

    // ====== ‡∏Ñ‡∏¥‡∏ß + ‡∏õ‡∏∏‡πà‡∏° ======
    let queue = [];
    function rebuildQueue(list){
      const last = (()=>{ try { return localStorage.getItem('last_good_origin') || null; } catch(_) { return null; } })();
      if (last && list.includes(last)){
        const i = list.indexOf(last); list.splice(i,1); list.unshift(last);
      }
      queue = list.slice();
    }

    btnSkip.onclick = () => {
      if (!queue.length) return;
      const skipped = queue.shift();
      log(`‚è© ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Å‡∏î‡∏Ç‡πâ‡∏≤‡∏°: ${skipped}`);
      trySequential(queue);
    };
    btnRetry.onclick = () => { statusEl.innerHTML=''; btnRetry.style.display='none'; btnSkip.style.display='inline-block'; start(); };

    async function start(){
      statusEl.innerHTML = '';
      try {
        const urls = await loadManifest();
        rebuildQueue(urls);
        await trySequential(queue);
      } catch (e){
        log('‚ùå ' + (e && e.message ? e.message : e));
        document.querySelector('h1').textContent = '‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à';
        document.querySelector('p').textContent  = '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏∂‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÑ‡∏î‡πâ';
        btnRetry.style.display = 'inline-block';
        btnSkip.style.display  = 'none';
      }
    }

    start();
  </script>

  <!--
  ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á MANIFEST (‡∏ï‡∏≠‡∏ö‡∏à‡∏≤‡∏Å /.well-known/links.json)
  ‡∏Ñ‡∏ß‡∏£‡∏ï‡∏±‡πâ‡∏á Cache-Control: max-age=30, must-revalidate ‡πÅ‡∏•‡∏∞ X-Robots-Tag: noindex
  {
    "exp": 1753910400,
    "urls": [
      "https://totti911-TechviaShop.store",
      "https://totti911-ByteCarto.store",
      "https://totti911-CloudoriaStore.store"
    ],
    "sig": "BASE64_SIGNATURE_OPTIONAL"
  }

  ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏ã‡πá‡∏ô (‡∏ù‡∏±‡πà‡∏á‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå): ECDSA P-256 over SHA-256
  ‡πÄ‡∏ã‡πá‡∏ô‡∏™‡∏ï‡∏£‡∏¥‡∏á: `${exp}|${urls.join(',')}` ‚Üí ‡πÑ‡∏î‡πâ‡∏•‡∏≤‡∏¢‡πÄ‡∏ã‡πá‡∏ô‡πÅ‡∏ö‡∏ö DER ‡πÅ‡∏•‡πâ‡∏ß base64
  ‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡πÉ‡∏™‡πà public key (SPKI base64) ‡πÉ‡∏ô PUBKEY_SPKI_B64 ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á VERIFY_SIGNATURE=true
  -->
</body>
</html>
